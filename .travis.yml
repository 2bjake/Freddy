language: objective-c
osx_image: xcode7.1
install:
- gem install xcpretty --no-rdoc --no-ri --no-document
- curl -OlL "https://github.com/Carthage/Carthage/releases/download/0.11/Carthage.pkg"
- sudo installer -pkg "Carthage.pkg" -target /
- rm "Carthage.pkg"
script:
- set -o pipefail && xcodebuild test -scheme 'Freddy' | xcpretty -c
- set -o pipefail && xcodebuild test -scheme 'MobileFreddy' -sdk iphonesimulator | xcpretty -c
# - set -o pipefail && xcodebuild test -scheme 'TVFreddy' -sdk appletvsimulator | xcpretty -c
- set -o pipefail && xcodebuild build -scheme 'NanoFreddy' -sdk watchsimulator | xcpretty -c
- carthage build --no-skip-current
- pod lib lint --quick
only:
- master
notifications:
  slack:
    secure: IeneJfJosEW7T8gy6fFrJTWAuxe9IZeID9YCmIFAG8bYs3qeiiyqgbpx/1Z+OFDgtNp4+L+Z6ag+eOVs5I+yvki6fqvz/olEI40gM6toQpN+2epStW3us9hYh0+e0D6zY698tktQNl6XC9P1qepO512H4ZqPrlywBB2Z8bDaAXU=
    on_failure: change
    on_start: never
